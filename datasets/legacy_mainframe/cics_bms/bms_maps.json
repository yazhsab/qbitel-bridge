{
  "metadata": {
    "title": "CICS BMS Maps and Screen Definitions",
    "version": "1.0.0",
    "description": "Comprehensive BMS map samples with modern UI equivalents",
    "total_maps": 30,
    "categories": ["inquiry", "maintenance", "menu", "report", "data_entry"]
  },
  "bms_maps": [
    {
      "id": "CUSTINQ",
      "name": "Customer Inquiry Map",
      "description": "Basic customer information inquiry screen",
      "transaction_id": "CINQ",
      "bms_source": "CUSTINQ  DFHMSD TYPE=&SYSPARM,LANG=COBOL,MODE=INOUT,              X\n               TERM=3270-2,CTRL=FREEKB,STORAGE=AUTO,TIOAPFX=YES\n*\nCUSTMAP  DFHMDI SIZE=(24,80),LINE=1,COLUMN=1\n*\n         DFHMDF POS=(1,1),LENGTH=79,ATTRB=(ASKIP,BRT),                 X\n               INITIAL='CUSTOMER INQUIRY                                X\n                        CINQ'\n*\n         DFHMDF POS=(3,2),LENGTH=12,ATTRB=ASKIP,                       X\n               INITIAL='CUSTOMER ID:'\nCUSTID   DFHMDF POS=(3,15),LENGTH=10,ATTRB=(UNPROT,IC,FSET)\n         DFHMDF POS=(3,26),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(5,2),LENGTH=10,ATTRB=ASKIP,                       X\n               INITIAL='NAME:'\nCUSTNAME DFHMDF POS=(5,15),LENGTH=30,ATTRB=PROT\n*\n         DFHMDF POS=(6,2),LENGTH=10,ATTRB=ASKIP,                       X\n               INITIAL='ADDRESS:'\nADDRESS1 DFHMDF POS=(6,15),LENGTH=50,ATTRB=PROT\nADDRESS2 DFHMDF POS=(7,15),LENGTH=50,ATTRB=PROT\n*\n         DFHMDF POS=(8,2),LENGTH=10,ATTRB=ASKIP,                       X\n               INITIAL='CITY:'\nCITY     DFHMDF POS=(8,15),LENGTH=30,ATTRB=PROT\n*\n         DFHMDF POS=(8,48),LENGTH=6,ATTRB=ASKIP,                       X\n               INITIAL='STATE:'\nSTATE    DFHMDF POS=(8,55),LENGTH=2,ATTRB=PROT\n*\n         DFHMDF POS=(8,60),LENGTH=4,ATTRB=ASKIP,                       X\n               INITIAL='ZIP:'\nZIP      DFHMDF POS=(8,65),LENGTH=10,ATTRB=PROT\n*\n         DFHMDF POS=(10,2),LENGTH=8,ATTRB=ASKIP,                       X\n               INITIAL='PHONE:'\nPHONE    DFHMDF POS=(10,15),LENGTH=15,ATTRB=PROT\n*\n         DFHMDF POS=(10,35),LENGTH=6,ATTRB=ASKIP,                      X\n               INITIAL='EMAIL:'\nEMAIL    DFHMDF POS=(10,42),LENGTH=35,ATTRB=PROT\n*\n         DFHMDF POS=(12,2),LENGTH=10,ATTRB=ASKIP,                      X\n               INITIAL='BALANCE:'\nBALANCE  DFHMDF POS=(12,15),LENGTH=15,ATTRB=(PROT,BRT)\n*\n         DFHMDF POS=(12,35),LENGTH=12,ATTRB=ASKIP,                     X\n               INITIAL='CREDIT LIM:'\nCREDLIM  DFHMDF POS=(12,48),LENGTH=15,ATTRB=PROT\n*\n         DFHMDF POS=(14,2),LENGTH=8,ATTRB=ASKIP,                       X\n               INITIAL='STATUS:'\nSTATUS   DFHMDF POS=(14,15),LENGTH=15,ATTRB=PROT\n*\n         DFHMDF POS=(14,35),LENGTH=12,ATTRB=ASKIP,                     X\n               INITIAL='OPEN DATE:'\nOPENDATE DFHMDF POS=(14,48),LENGTH=10,ATTRB=PROT\n*\nMESSAGE  DFHMDF POS=(22,1),LENGTH=79,ATTRB=(BRT,PROT)\n*\n         DFHMDF POS=(24,1),LENGTH=40,ATTRB=ASKIP,                      X\n               INITIAL='PF3=EXIT  PF5=ACCOUNTS  PF12=MENU'\n*\n         DFHMSD TYPE=FINAL\n         END",
      "symbolic_map": "       01  CUSTMAPI.\n           05  FILLER                  PIC X(12).\n           05  CUSTIDL                 PIC S9(4) COMP.\n           05  CUSTIDF                 PIC X.\n           05  FILLER REDEFINES CUSTIDF.\n               10  CUSTIDA             PIC X.\n           05  CUSTIDI                 PIC X(10).\n           05  CUSTNAMEL               PIC S9(4) COMP.\n           05  CUSTNAMEF               PIC X.\n           05  CUSTNAMEI               PIC X(30).\n           05  ADDRESS1L               PIC S9(4) COMP.\n           05  ADDRESS1F               PIC X.\n           05  ADDRESS1I               PIC X(50).\n           05  ADDRESS2L               PIC S9(4) COMP.\n           05  ADDRESS2F               PIC X.\n           05  ADDRESS2I               PIC X(50).\n           05  CITYL                   PIC S9(4) COMP.\n           05  CITYF                   PIC X.\n           05  CITYI                   PIC X(30).\n           05  STATEL                  PIC S9(4) COMP.\n           05  STATEF                  PIC X.\n           05  STATEI                  PIC X(2).\n           05  ZIPL                    PIC S9(4) COMP.\n           05  ZIPF                    PIC X.\n           05  ZIPI                    PIC X(10).\n           05  PHONEL                  PIC S9(4) COMP.\n           05  PHONEF                  PIC X.\n           05  PHONEI                  PIC X(15).\n           05  EMAILL                  PIC S9(4) COMP.\n           05  EMAILF                  PIC X.\n           05  EMAILI                  PIC X(35).\n           05  BALANCEL                PIC S9(4) COMP.\n           05  BALANCEF                PIC X.\n           05  BALANCEI                PIC X(15).\n           05  CREDLIML                PIC S9(4) COMP.\n           05  CREDLIMF                PIC X.\n           05  CREDLIMI                PIC X(15).\n           05  STATUSL                 PIC S9(4) COMP.\n           05  STATUSF                 PIC X.\n           05  STATUSI                 PIC X(15).\n           05  OPENDATEL               PIC S9(4) COMP.\n           05  OPENDATEF               PIC X.\n           05  OPENDATEI               PIC X(10).\n           05  MESSAGEL                PIC S9(4) COMP.\n           05  MESSAGEF                PIC X.\n           05  MESSAGEI                PIC X(79).\n\n       01  CUSTMAPO REDEFINES CUSTMAPI.\n           05  FILLER                  PIC X(12).\n           05  FILLER                  PIC X(3).\n           05  CUSTIDO                 PIC X(10).\n           05  FILLER                  PIC X(3).\n           05  CUSTNAMEO               PIC X(30).\n           05  FILLER                  PIC X(3).\n           05  ADDRESS1O               PIC X(50).\n           05  FILLER                  PIC X(3).\n           05  ADDRESS2O               PIC X(50).\n           05  FILLER                  PIC X(3).\n           05  CITYO                   PIC X(30).\n           05  FILLER                  PIC X(3).\n           05  STATEO                  PIC X(2).\n           05  FILLER                  PIC X(3).\n           05  ZIPO                    PIC X(10).\n           05  FILLER                  PIC X(3).\n           05  PHONEO                  PIC X(15).\n           05  FILLER                  PIC X(3).\n           05  EMAILO                  PIC X(35).\n           05  FILLER                  PIC X(3).\n           05  BALANCEO                PIC X(15).\n           05  FILLER                  PIC X(3).\n           05  CREDLIMO                PIC X(15).\n           05  FILLER                  PIC X(3).\n           05  STATUSO                 PIC X(15).\n           05  FILLER                  PIC X(3).\n           05  OPENDATEO               PIC X(10).\n           05  FILLER                  PIC X(3).\n           05  MESSAGEO                PIC X(79).",
      "cobol_program": "      ******************************************************************\n      * CUSTINQ - CUSTOMER INQUIRY PROGRAM                            *\n      ******************************************************************\n       IDENTIFICATION DIVISION.\n       PROGRAM-ID. CUSTINQ.\n\n       DATA DIVISION.\n       WORKING-STORAGE SECTION.\n           COPY DFHAID.\n           COPY DFHBMSCA.\n           COPY CUSTMAPS.\n           COPY COMMAREA.\n           COPY DCLCUST.\n           COPY SQLCA.\n\n       01  WS-SWITCHES.\n           05  WS-SEND-FLAG        PIC X VALUE 'Y'.\n               88 SEND-ERASE       VALUE 'Y'.\n               88 SEND-DATAONLY    VALUE 'N'.\n\n       PROCEDURE DIVISION.\n       0000-MAIN.\n           EVALUATE TRUE\n               WHEN EIBCALEN = 0\n                   PERFORM 1000-FIRST-TIME\n               WHEN EIBAID = DFHCLEAR\n                   PERFORM 9000-SEND-TERMINATION\n               WHEN EIBAID = DFHPF3\n                   PERFORM 9000-SEND-TERMINATION\n               WHEN EIBAID = DFHENTER\n                   PERFORM 2000-PROCESS-MAP\n               WHEN OTHER\n                   MOVE 'INVALID KEY PRESSED' TO MESSAGEO\n                   PERFORM 3000-SEND-MAP\n           END-EVALUATE.\n           EXEC CICS RETURN\n               TRANSID('CINQ')\n               COMMAREA(DFHCOMMAREA)\n               LENGTH(LENGTH OF DFHCOMMAREA)\n           END-EXEC.\n\n       1000-FIRST-TIME.\n           MOVE LOW-VALUES TO CUSTMAPO.\n           SET SEND-ERASE TO TRUE.\n           PERFORM 3000-SEND-MAP.\n\n       2000-PROCESS-MAP.\n           PERFORM 2100-RECEIVE-MAP.\n           PERFORM 2200-GET-CUSTOMER.\n           PERFORM 3000-SEND-MAP.\n\n       2100-RECEIVE-MAP.\n           EXEC CICS RECEIVE\n               MAP('CUSTMAP')\n               MAPSET('CUSTINQ')\n               INTO(CUSTMAPI)\n           END-EXEC.\n\n       2200-GET-CUSTOMER.\n           MOVE CUSTIDI TO CUST-ID.\n           EXEC SQL\n               SELECT CUST_NAME, CUST_ADDRESS, CUST_CITY,\n                      CUST_STATE, CUST_ZIP, CUST_PHONE,\n                      CUST_EMAIL, CUST_BALANCE, CUST_CREDIT_LIMIT,\n                      CUST_STATUS, CUST_OPEN_DATE\n               INTO :CUST-NAME, :CUST-ADDRESS, :CUST-CITY,\n                    :CUST-STATE, :CUST-ZIP, :CUST-PHONE,\n                    :CUST-EMAIL, :CUST-BALANCE, :CUST-CREDIT-LIMIT,\n                    :CUST-STATUS, :CUST-OPEN-DATE\n               FROM CUSTOMER\n               WHERE CUST_ID = :CUST-ID\n           END-EXEC.\n           EVALUATE SQLCODE\n               WHEN 0\n                   PERFORM 2300-MOVE-TO-MAP\n                   MOVE 'CUSTOMER FOUND' TO MESSAGEO\n               WHEN 100\n                   MOVE LOW-VALUES TO CUSTMAPO\n                   MOVE 'CUSTOMER NOT FOUND' TO MESSAGEO\n               WHEN OTHER\n                   MOVE 'DATABASE ERROR' TO MESSAGEO\n           END-EVALUATE.\n\n       2300-MOVE-TO-MAP.\n           MOVE CUST-NAME-TEXT TO CUSTNAMEO.\n           MOVE CUST-ADDRESS-TEXT TO ADDRESS1O.\n           MOVE CUST-CITY TO CITYO.\n           MOVE CUST-STATE TO STATEO.\n           MOVE CUST-ZIP TO ZIPO.\n           MOVE CUST-PHONE TO PHONEO.\n           MOVE CUST-EMAIL-TEXT TO EMAILO.\n           MOVE CUST-BALANCE TO BALANCEO.\n           MOVE CUST-CREDIT-LIMIT TO CREDLIMO.\n           MOVE CUST-STATUS TO STATUSO.\n           MOVE CUST-OPEN-DATE TO OPENDATEO.\n\n       3000-SEND-MAP.\n           IF SEND-ERASE\n               EXEC CICS SEND\n                   MAP('CUSTMAP')\n                   MAPSET('CUSTINQ')\n                   FROM(CUSTMAPO)\n                   ERASE\n                   CURSOR\n               END-EXEC\n           ELSE\n               EXEC CICS SEND\n                   MAP('CUSTMAP')\n                   MAPSET('CUSTINQ')\n                   FROM(CUSTMAPO)\n                   DATAONLY\n                   CURSOR\n               END-EXEC\n           END-IF.\n\n       9000-SEND-TERMINATION.\n           EXEC CICS SEND TEXT\n               FROM('SESSION ENDED')\n               ERASE\n           END-EXEC.\n           EXEC CICS RETURN END-EXEC.",
      "modern_equivalents": {
        "react": "import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\ninterface Customer {\n  custId: string;\n  custName: string;\n  address1: string;\n  address2: string;\n  city: string;\n  state: string;\n  zip: string;\n  phone: string;\n  email: string;\n  balance: number;\n  creditLimit: number;\n  status: string;\n  openDate: string;\n}\n\nexport const CustomerInquiry: React.FC = () => {\n  const [custId, setCustId] = useState('');\n  const [customer, setCustomer] = useState<Customer | null>(null);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSearch = async () => {\n    if (!custId) {\n      setMessage('Please enter a Customer ID');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await fetch(`/api/customers/${custId}`);\n      if (response.ok) {\n        const data = await response.json();\n        setCustomer(data);\n        setMessage('Customer found');\n      } else if (response.status === 404) {\n        setCustomer(null);\n        setMessage('Customer not found');\n      } else {\n        setMessage('Database error');\n      }\n    } catch (error) {\n      setMessage('System error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle keyboard shortcuts (PF key equivalents)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'F3' || (e.key === 'Escape')) {\n        window.history.back();\n      } else if (e.key === 'Enter') {\n        handleSearch();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [custId]);\n\n  return (\n    <div className=\"screen-container\">\n      <header className=\"screen-header\">\n        <h1>CUSTOMER INQUIRY</h1>\n        <span className=\"trans-id\">CINQ</span>\n      </header>\n\n      <div className=\"form-row\">\n        <label>Customer ID:</label>\n        <input\n          type=\"text\"\n          value={custId}\n          onChange={(e) => setCustId(e.target.value.toUpperCase())}\n          maxLength={10}\n          autoFocus\n        />\n        <button onClick={handleSearch} disabled={loading}>\n          Search\n        </button>\n      </div>\n\n      {customer && (\n        <div className=\"customer-details\">\n          <div className=\"form-row\">\n            <label>Name:</label>\n            <span className=\"field-value\">{customer.custName}</span>\n          </div>\n          <div className=\"form-row\">\n            <label>Address:</label>\n            <span className=\"field-value\">{customer.address1}</span>\n          </div>\n          {customer.address2 && (\n            <div className=\"form-row\">\n              <label></label>\n              <span className=\"field-value\">{customer.address2}</span>\n            </div>\n          )}\n          <div className=\"form-row\">\n            <label>City:</label>\n            <span className=\"field-value\">{customer.city}</span>\n            <label>State:</label>\n            <span className=\"field-value\">{customer.state}</span>\n            <label>ZIP:</label>\n            <span className=\"field-value\">{customer.zip}</span>\n          </div>\n          <div className=\"form-row\">\n            <label>Phone:</label>\n            <span className=\"field-value\">{customer.phone}</span>\n            <label>Email:</label>\n            <span className=\"field-value\">{customer.email}</span>\n          </div>\n          <div className=\"form-row\">\n            <label>Balance:</label>\n            <span className=\"field-value highlight\">\n              {new Intl.NumberFormat('en-US', {\n                style: 'currency',\n                currency: 'USD'\n              }).format(customer.balance)}\n            </span>\n            <label>Credit Limit:</label>\n            <span className=\"field-value\">\n              {new Intl.NumberFormat('en-US', {\n                style: 'currency',\n                currency: 'USD'\n              }).format(customer.creditLimit)}\n            </span>\n          </div>\n          <div className=\"form-row\">\n            <label>Status:</label>\n            <span className=\"field-value\">{customer.status}</span>\n            <label>Open Date:</label>\n            <span className=\"field-value\">{customer.openDate}</span>\n          </div>\n        </div>\n      )}\n\n      <div className=\"message-area\">\n        {message}\n      </div>\n\n      <footer className=\"screen-footer\">\n        <span>ESC=Exit</span>\n        <span>F5=Accounts</span>\n        <span>F12=Menu</span>\n      </footer>\n    </div>\n  );\n};",
        "rest_api": "@RestController\n@RequestMapping(\"/api/customers\")\npublic class CustomerController {\n\n    @Autowired\n    private CustomerRepository customerRepository;\n\n    @GetMapping(\"/{custId}\")\n    public ResponseEntity<CustomerDTO> getCustomer(@PathVariable String custId) {\n        return customerRepository.findById(custId)\n            .map(customer -> ResponseEntity.ok(CustomerDTO.from(customer)))\n            .orElse(ResponseEntity.notFound().build());\n    }\n}",
        "openapi": "openapi: 3.0.3\ninfo:\n  title: Customer Inquiry API\n  version: 1.0.0\npaths:\n  /api/customers/{custId}:\n    get:\n      summary: Get customer by ID\n      parameters:\n        - name: custId\n          in: path\n          required: true\n          schema:\n            type: string\n            maxLength: 10\n      responses:\n        '200':\n          description: Customer found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Customer'\n        '404':\n          description: Customer not found"
      },
      "mapping_notes": [
        "BMS DFHMDF fields map to HTML form elements or React components",
        "ATTRB=UNPROT becomes editable input field",
        "ATTRB=PROT becomes read-only span or disabled input",
        "ATTRB=BRT becomes CSS font-weight:bold or highlight class",
        "PF keys map to keyboard event handlers or button clicks",
        "EIBAID handling maps to event handler switch/if statements",
        "CICS SEND MAP maps to React state update and render",
        "CICS RECEIVE MAP maps to form submit handler"
      ]
    },
    {
      "id": "CUSTMNT",
      "name": "Customer Maintenance Map",
      "description": "Customer add/update/delete maintenance screen",
      "transaction_id": "CMNT",
      "bms_source": "CUSTMNT  DFHMSD TYPE=&SYSPARM,LANG=COBOL,MODE=INOUT,              X\n               TERM=3270-2,CTRL=FREEKB,STORAGE=AUTO,TIOAPFX=YES\n*\nMNTMAP   DFHMDI SIZE=(24,80),LINE=1,COLUMN=1\n*\n         DFHMDF POS=(1,1),LENGTH=79,ATTRB=(ASKIP,BRT),                 X\n               INITIAL='CUSTOMER MAINTENANCE                            X\n                        CMNT'\n*\n         DFHMDF POS=(3,2),LENGTH=7,ATTRB=ASKIP,                        X\n               INITIAL='ACTION:'\nACTION   DFHMDF POS=(3,10),LENGTH=1,ATTRB=(UNPROT,IC)\n         DFHMDF POS=(3,12),LENGTH=30,ATTRB=ASKIP,                      X\n               INITIAL='(A=ADD, C=CHANGE, D=DELETE)'\n*\n         DFHMDF POS=(5,2),LENGTH=12,ATTRB=ASKIP,                       X\n               INITIAL='CUSTOMER ID:'\nCUSTID   DFHMDF POS=(5,15),LENGTH=10,ATTRB=UNPROT\n         DFHMDF POS=(5,26),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(7,2),LENGTH=10,ATTRB=ASKIP,                       X\n               INITIAL='NAME:'\nCUSTNAME DFHMDF POS=(7,15),LENGTH=50,ATTRB=UNPROT\n         DFHMDF POS=(7,66),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(9,2),LENGTH=10,ATTRB=ASKIP,                       X\n               INITIAL='ADDRESS:'\nADDRESS1 DFHMDF POS=(9,15),LENGTH=55,ATTRB=UNPROT\n         DFHMDF POS=(9,71),LENGTH=1,ATTRB=ASKIP\nADDRESS2 DFHMDF POS=(10,15),LENGTH=55,ATTRB=UNPROT\n         DFHMDF POS=(10,71),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(12,2),LENGTH=10,ATTRB=ASKIP,                      X\n               INITIAL='CITY:'\nCITY     DFHMDF POS=(12,15),LENGTH=30,ATTRB=UNPROT\n         DFHMDF POS=(12,46),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(12,50),LENGTH=6,ATTRB=ASKIP,                      X\n               INITIAL='STATE:'\nSTATE    DFHMDF POS=(12,57),LENGTH=2,ATTRB=UNPROT\n         DFHMDF POS=(12,60),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(12,64),LENGTH=4,ATTRB=ASKIP,                      X\n               INITIAL='ZIP:'\nZIP      DFHMDF POS=(12,69),LENGTH=10,ATTRB=UNPROT\n         DFHMDF POS=(12,80),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(14,2),LENGTH=8,ATTRB=ASKIP,                       X\n               INITIAL='PHONE:'\nPHONE    DFHMDF POS=(14,15),LENGTH=15,ATTRB=UNPROT\n         DFHMDF POS=(14,31),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(14,35),LENGTH=6,ATTRB=ASKIP,                      X\n               INITIAL='EMAIL:'\nEMAIL    DFHMDF POS=(14,42),LENGTH=35,ATTRB=UNPROT\n         DFHMDF POS=(14,78),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(16,2),LENGTH=12,ATTRB=ASKIP,                      X\n               INITIAL='CREDIT LIM:'\nCREDLIM  DFHMDF POS=(16,15),LENGTH=12,ATTRB=UNPROT,                    X\n               PICOUT='$$$,$$$,$$9.99'\n         DFHMDF POS=(16,28),LENGTH=1,ATTRB=ASKIP\n*\n         DFHMDF POS=(16,32),LENGTH=12,ATTRB=ASKIP,                     X\n               INITIAL='CUST TYPE:'\nCUSTTYPE DFHMDF POS=(16,45),LENGTH=1,ATTRB=UNPROT\n         DFHMDF POS=(16,47),LENGTH=25,ATTRB=ASKIP,                     X\n               INITIAL='(R=RETAIL, C=COMMERCIAL)'\n*\nCONFIRM  DFHMDF POS=(20,2),LENGTH=50,ATTRB=(ASKIP,BRT)\n*\nMESSAGE  DFHMDF POS=(22,1),LENGTH=79,ATTRB=(BRT,PROT)\n*\n         DFHMDF POS=(24,1),LENGTH=60,ATTRB=ASKIP,                      X\n               INITIAL='PF3=EXIT  PF5=CONFIRM  PF12=MENU  ENTER=VALIDATE'\n*\n         DFHMSD TYPE=FINAL\n         END",
      "modern_equivalents": {
        "react": "import React, { useState, useEffect } from 'react';\n\ntype ActionType = 'A' | 'C' | 'D' | '';\n\ninterface CustomerForm {\n  custId: string;\n  custName: string;\n  address1: string;\n  address2: string;\n  city: string;\n  state: string;\n  zip: string;\n  phone: string;\n  email: string;\n  creditLimit: string;\n  custType: string;\n}\n\nexport const CustomerMaintenance: React.FC = () => {\n  const [action, setAction] = useState<ActionType>('');\n  const [form, setForm] = useState<CustomerForm>({\n    custId: '', custName: '', address1: '', address2: '',\n    city: '', state: '', zip: '', phone: '', email: '',\n    creditLimit: '', custType: ''\n  });\n  const [message, setMessage] = useState('');\n  const [confirmMessage, setConfirmMessage] = useState('');\n  const [isValid, setIsValid] = useState(false);\n\n  const validateForm = (): boolean => {\n    const errors: string[] = [];\n    \n    if (!form.custId) errors.push('Customer ID required');\n    if (!form.custName && action !== 'D') errors.push('Name required');\n    if (!['R', 'C'].includes(form.custType) && action !== 'D') \n      errors.push('Invalid customer type');\n    \n    if (errors.length > 0) {\n      setMessage(errors[0]);\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n    \n    const endpoint = '/api/customers';\n    const method = action === 'A' ? 'POST' : action === 'C' ? 'PUT' : 'DELETE';\n    \n    try {\n      const response = await fetch(\n        action === 'D' ? `${endpoint}/${form.custId}` : endpoint,\n        {\n          method,\n          headers: { 'Content-Type': 'application/json' },\n          body: action !== 'D' ? JSON.stringify(form) : undefined\n        }\n      );\n      \n      if (response.ok) {\n        setMessage(`Customer ${action === 'A' ? 'added' : action === 'C' ? 'updated' : 'deleted'} successfully`);\n        if (action === 'A' || action === 'D') {\n          setForm({ custId: '', custName: '', address1: '', address2: '',\n            city: '', state: '', zip: '', phone: '', email: '',\n            creditLimit: '', custType: '' });\n        }\n      } else {\n        const error = await response.json();\n        setMessage(error.message || 'Operation failed');\n      }\n    } catch (error) {\n      setMessage('System error');\n    }\n  };\n\n  const handleActionChange = async (newAction: ActionType) => {\n    setAction(newAction);\n    if (newAction === 'C' || newAction === 'D') {\n      // Fetch existing customer for change/delete\n      if (form.custId) {\n        const response = await fetch(`/api/customers/${form.custId}`);\n        if (response.ok) {\n          const customer = await response.json();\n          setForm(customer);\n          setMessage('Customer retrieved');\n        } else {\n          setMessage('Customer not found');\n        }\n      }\n    }\n  };\n\n  return (\n    <div className=\"screen-container\">\n      <header className=\"screen-header\">\n        <h1>CUSTOMER MAINTENANCE</h1>\n        <span className=\"trans-id\">CMNT</span>\n      </header>\n\n      <div className=\"form-row\">\n        <label>Action:</label>\n        <select \n          value={action} \n          onChange={(e) => handleActionChange(e.target.value as ActionType)}\n        >\n          <option value=\"\">Select...</option>\n          <option value=\"A\">A - Add</option>\n          <option value=\"C\">C - Change</option>\n          <option value=\"D\">D - Delete</option>\n        </select>\n      </div>\n\n      <div className=\"form-row\">\n        <label>Customer ID:</label>\n        <input\n          type=\"text\"\n          value={form.custId}\n          onChange={(e) => setForm({...form, custId: e.target.value.toUpperCase()})}\n          maxLength={10}\n          disabled={action === 'C' || action === 'D'}\n        />\n      </div>\n\n      {/* Additional form fields */}\n      <div className=\"form-row\">\n        <label>Name:</label>\n        <input\n          type=\"text\"\n          value={form.custName}\n          onChange={(e) => setForm({...form, custName: e.target.value})}\n          maxLength={50}\n          disabled={action === 'D'}\n        />\n      </div>\n\n      {/* ... more fields ... */}\n\n      <div className=\"confirm-area\">{confirmMessage}</div>\n      <div className=\"message-area\">{message}</div>\n\n      <footer className=\"screen-footer\">\n        <button onClick={() => window.history.back()}>Exit (F3)</button>\n        <button onClick={handleSubmit}>Confirm (F5)</button>\n        <button onClick={validateForm}>Validate (Enter)</button>\n      </footer>\n    </div>\n  );\n};"
      }
    },
    {
      "id": "MAINMENU",
      "name": "Main Menu Map",
      "description": "Application main menu with navigation options",
      "transaction_id": "MENU",
      "bms_source": "MAINMENU DFHMSD TYPE=&SYSPARM,LANG=COBOL,MODE=INOUT,              X\n               TERM=3270-2,CTRL=FREEKB,STORAGE=AUTO,TIOAPFX=YES\n*\nMENUMAP  DFHMDI SIZE=(24,80),LINE=1,COLUMN=1\n*\n         DFHMDF POS=(1,25),LENGTH=30,ATTRB=(ASKIP,BRT),                X\n               INITIAL='*** MAIN MENU ***'\n*\n         DFHMDF POS=(3,20),LENGTH=40,ATTRB=ASKIP,                      X\n               INITIAL='CUSTOMER BANKING SYSTEM'\n*\n         DFHMDF POS=(6,20),LENGTH=5,ATTRB=ASKIP,                       X\n               INITIAL='1.'\n         DFHMDF POS=(6,26),LENGTH=30,ATTRB=ASKIP,                      X\n               INITIAL='CUSTOMER INQUIRY'\n*\n         DFHMDF POS=(8,20),LENGTH=5,ATTRB=ASKIP,                       X\n               INITIAL='2.'\n         DFHMDF POS=(8,26),LENGTH=30,ATTRB=ASKIP,                      X\n               INITIAL='CUSTOMER MAINTENANCE'\n*\n         DFHMDF POS=(10,20),LENGTH=5,ATTRB=ASKIP,                      X\n               INITIAL='3.'\n         DFHMDF POS=(10,26),LENGTH=30,ATTRB=ASKIP,                     X\n               INITIAL='ACCOUNT INQUIRY'\n*\n         DFHMDF POS=(12,20),LENGTH=5,ATTRB=ASKIP,                      X\n               INITIAL='4.'\n         DFHMDF POS=(12,26),LENGTH=30,ATTRB=ASKIP,                     X\n               INITIAL='ACCOUNT MAINTENANCE'\n*\n         DFHMDF POS=(14,20),LENGTH=5,ATTRB=ASKIP,                      X\n               INITIAL='5.'\n         DFHMDF POS=(14,26),LENGTH=30,ATTRB=ASKIP,                     X\n               INITIAL='TRANSACTION HISTORY'\n*\n         DFHMDF POS=(16,20),LENGTH=5,ATTRB=ASKIP,                      X\n               INITIAL='6.'\n         DFHMDF POS=(16,26),LENGTH=30,ATTRB=ASKIP,                     X\n               INITIAL='REPORTS MENU'\n*\n         DFHMDF POS=(18,20),LENGTH=5,ATTRB=ASKIP,                      X\n               INITIAL='X.'\n         DFHMDF POS=(18,26),LENGTH=30,ATTRB=ASKIP,                     X\n               INITIAL='EXIT'\n*\n         DFHMDF POS=(20,20),LENGTH=15,ATTRB=ASKIP,                     X\n               INITIAL='ENTER CHOICE:'\nCHOICE   DFHMDF POS=(20,36),LENGTH=1,ATTRB=(UNPROT,IC)\n         DFHMDF POS=(20,38),LENGTH=1,ATTRB=ASKIP\n*\nMESSAGE  DFHMDF POS=(22,1),LENGTH=79,ATTRB=(BRT,PROT)\n*\n         DFHMDF POS=(24,20),LENGTH=40,ATTRB=ASKIP,                     X\n               INITIAL='ENTER=SELECT  PF3=EXIT'\n*\n         DFHMSD TYPE=FINAL\n         END",
      "modern_equivalents": {
        "react_router": "import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\n\nconst menuItems = [\n  { key: '1', label: 'Customer Inquiry', path: '/customer/inquiry' },\n  { key: '2', label: 'Customer Maintenance', path: '/customer/maintenance' },\n  { key: '3', label: 'Account Inquiry', path: '/account/inquiry' },\n  { key: '4', label: 'Account Maintenance', path: '/account/maintenance' },\n  { key: '5', label: 'Transaction History', path: '/transactions' },\n  { key: '6', label: 'Reports Menu', path: '/reports' },\n];\n\nexport const MainMenu: React.FC = () => {\n  const navigate = useNavigate();\n\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    const choice = e.currentTarget.value.toUpperCase();\n    if (choice === 'X') {\n      // Handle exit\n      window.close();\n      return;\n    }\n    const item = menuItems.find(m => m.key === choice);\n    if (item) {\n      navigate(item.path);\n    }\n  };\n\n  return (\n    <div className=\"menu-container\">\n      <h1>*** MAIN MENU ***</h1>\n      <h2>CUSTOMER BANKING SYSTEM</h2>\n\n      <nav className=\"menu-options\">\n        {menuItems.map(item => (\n          <Link key={item.key} to={item.path} className=\"menu-item\">\n            <span className=\"menu-key\">{item.key}.</span>\n            <span className=\"menu-label\">{item.label}</span>\n          </Link>\n        ))}\n        <div className=\"menu-item exit-option\">\n          <span className=\"menu-key\">X.</span>\n          <span className=\"menu-label\">Exit</span>\n        </div>\n      </nav>\n\n      <div className=\"choice-input\">\n        <label>Enter Choice:</label>\n        <input\n          type=\"text\"\n          maxLength={1}\n          autoFocus\n          onKeyPress={handleKeyPress}\n        />\n      </div>\n\n      <footer>ENTER=SELECT  ESC=EXIT</footer>\n    </div>\n  );\n};"
      }
    },
    {
      "id": "ACCTLIST",
      "name": "Account List Map",
      "description": "Scrollable list of customer accounts",
      "transaction_id": "ALST",
      "bms_source": "ACCTLIST DFHMSD TYPE=&SYSPARM,LANG=COBOL,MODE=INOUT,              X\n               TERM=3270-2,CTRL=FREEKB,STORAGE=AUTO,TIOAPFX=YES\n*\nLISTMAP  DFHMDI SIZE=(24,80),LINE=1,COLUMN=1\n*\n         DFHMDF POS=(1,1),LENGTH=79,ATTRB=(ASKIP,BRT),                 X\n               INITIAL='ACCOUNT LIST                                    X\n                        ALST'\n*\n         DFHMDF POS=(3,2),LENGTH=12,ATTRB=ASKIP,                       X\n               INITIAL='CUSTOMER ID:'\nCUSTID   DFHMDF POS=(3,15),LENGTH=10,ATTRB=(UNPROT,IC)\n         DFHMDF POS=(3,26),LENGTH=1,ATTRB=ASKIP\nCUSTNAME DFHMDF POS=(3,30),LENGTH=30,ATTRB=(PROT,BRT)\n*\n* COLUMN HEADERS\n         DFHMDF POS=(5,1),LENGTH=79,ATTRB=(ASKIP,BRT),                 X\n               INITIAL='SEL ACCOUNT      TYPE BALANCE         AVAILABLE X\n                STATUS LAST ACTIVITY'\n         DFHMDF POS=(6,1),LENGTH=79,ATTRB=ASKIP,                       X\n               INITIAL='--- ------------ ---- --------------- ----------X\n-------- ------ -------------'\n*\n* DATA LINES (10 ROWS)\nSEL01    DFHMDF POS=(7,1),LENGTH=1,ATTRB=UNPROT\nACCT01   DFHMDF POS=(7,5),LENGTH=12,ATTRB=PROT\nTYPE01   DFHMDF POS=(7,18),LENGTH=4,ATTRB=PROT\nBAL01    DFHMDF POS=(7,23),LENGTH=15,ATTRB=PROT\nAVAIL01  DFHMDF POS=(7,39),LENGTH=15,ATTRB=PROT\nSTAT01   DFHMDF POS=(7,55),LENGTH=6,ATTRB=PROT\nLAST01   DFHMDF POS=(7,62),LENGTH=13,ATTRB=PROT\n*\nSEL02    DFHMDF POS=(8,1),LENGTH=1,ATTRB=UNPROT\nACCT02   DFHMDF POS=(8,5),LENGTH=12,ATTRB=PROT\nTYPE02   DFHMDF POS=(8,18),LENGTH=4,ATTRB=PROT\nBAL02    DFHMDF POS=(8,23),LENGTH=15,ATTRB=PROT\nAVAIL02  DFHMDF POS=(8,39),LENGTH=15,ATTRB=PROT\nSTAT02   DFHMDF POS=(8,55),LENGTH=6,ATTRB=PROT\nLAST02   DFHMDF POS=(8,62),LENGTH=13,ATTRB=PROT\n*\n* ... ROWS 3-10 SIMILAR ...\n*\n* SCROLL INDICATORS\nMORE     DFHMDF POS=(19,35),LENGTH=10,ATTRB=(ASKIP,BRT)\n*\nMESSAGE  DFHMDF POS=(22,1),LENGTH=79,ATTRB=(BRT,PROT)\n*\n         DFHMDF POS=(24,1),LENGTH=70,ATTRB=ASKIP,                      X\n               INITIAL='PF3=EXIT  PF7=BACK  PF8=FORWARD  ENTER=SELECT  X\n        S=DETAILS'\n*\n         DFHMSD TYPE=FINAL\n         END",
      "modern_equivalents": {
        "react_table": "import React, { useState, useEffect } from 'react';\n\ninterface Account {\n  accountId: string;\n  accountType: string;\n  balance: number;\n  available: number;\n  status: string;\n  lastActivity: string;\n}\n\nexport const AccountList: React.FC = () => {\n  const [custId, setCustId] = useState('');\n  const [custName, setCustName] = useState('');\n  const [accounts, setAccounts] = useState<Account[]>([]);\n  const [selectedAccounts, setSelectedAccounts] = useState<Set<string>>(new Set());\n  const [page, setPage] = useState(0);\n  const [hasMore, setHasMore] = useState(false);\n  const [message, setMessage] = useState('');\n  const pageSize = 10;\n\n  const fetchAccounts = async () => {\n    if (!custId) return;\n    try {\n      const response = await fetch(\n        `/api/customers/${custId}/accounts?page=${page}&size=${pageSize}`\n      );\n      if (response.ok) {\n        const data = await response.json();\n        setAccounts(data.content);\n        setCustName(data.customerName);\n        setHasMore(data.hasNext);\n        setMessage(`${data.totalElements} accounts found`);\n      } else {\n        setMessage('Customer not found');\n      }\n    } catch (error) {\n      setMessage('System error');\n    }\n  };\n\n  const handleSelect = (accountId: string) => {\n    const newSelected = new Set(selectedAccounts);\n    if (newSelected.has(accountId)) {\n      newSelected.delete(accountId);\n    } else {\n      newSelected.add(accountId);\n    }\n    setSelectedAccounts(newSelected);\n  };\n\n  const handleViewDetails = (accountId: string) => {\n    window.location.href = `/account/${accountId}`;\n  };\n\n  // Keyboard navigation (PF key equivalents)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'F7' || e.key === 'PageUp') {\n        if (page > 0) setPage(p => p - 1);\n      } else if (e.key === 'F8' || e.key === 'PageDown') {\n        if (hasMore) setPage(p => p + 1);\n      } else if (e.key === 'F3' || e.key === 'Escape') {\n        window.history.back();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [page, hasMore]);\n\n  useEffect(() => {\n    if (custId) fetchAccounts();\n  }, [page]);\n\n  return (\n    <div className=\"screen-container\">\n      <header className=\"screen-header\">\n        <h1>ACCOUNT LIST</h1>\n        <span className=\"trans-id\">ALST</span>\n      </header>\n\n      <div className=\"form-row\">\n        <label>Customer ID:</label>\n        <input\n          type=\"text\"\n          value={custId}\n          onChange={(e) => setCustId(e.target.value.toUpperCase())}\n          onKeyPress={(e) => e.key === 'Enter' && fetchAccounts()}\n          maxLength={10}\n          autoFocus\n        />\n        <span className=\"customer-name\">{custName}</span>\n      </div>\n\n      <table className=\"data-table\">\n        <thead>\n          <tr>\n            <th>SEL</th>\n            <th>ACCOUNT</th>\n            <th>TYPE</th>\n            <th>BALANCE</th>\n            <th>AVAILABLE</th>\n            <th>STATUS</th>\n            <th>LAST ACTIVITY</th>\n          </tr>\n        </thead>\n        <tbody>\n          {accounts.map(account => (\n            <tr key={account.accountId}>\n              <td>\n                <input\n                  type=\"checkbox\"\n                  checked={selectedAccounts.has(account.accountId)}\n                  onChange={() => handleSelect(account.accountId)}\n                />\n              </td>\n              <td>\n                <button \n                  className=\"link-button\"\n                  onClick={() => handleViewDetails(account.accountId)}\n                >\n                  {account.accountId}\n                </button>\n              </td>\n              <td>{account.accountType}</td>\n              <td className=\"numeric\">\n                {new Intl.NumberFormat('en-US', {\n                  style: 'currency', currency: 'USD'\n                }).format(account.balance)}\n              </td>\n              <td className=\"numeric\">\n                {new Intl.NumberFormat('en-US', {\n                  style: 'currency', currency: 'USD'\n                }).format(account.available)}\n              </td>\n              <td>{account.status}</td>\n              <td>{account.lastActivity}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <div className=\"scroll-indicator\">\n        {hasMore && 'MORE...'}\n        <span>Page {page + 1}</span>\n      </div>\n\n      <div className=\"message-area\">{message}</div>\n\n      <footer className=\"screen-footer\">\n        <button onClick={() => window.history.back()}>Exit (F3)</button>\n        <button onClick={() => page > 0 && setPage(p => p - 1)} disabled={page === 0}>\n          Back (F7)\n        </button>\n        <button onClick={() => hasMore && setPage(p => p + 1)} disabled={!hasMore}>\n          Forward (F8)\n        </button>\n      </footer>\n    </div>\n  );\n};"
      }
    }
  ],
  "field_attribute_mapping": {
    "ASKIP": {
      "description": "Auto-skip, protected field",
      "html": "readonly or disabled input",
      "css": "pointer-events: none; background: transparent;"
    },
    "PROT": {
      "description": "Protected field (read-only)",
      "html": "<span> or disabled input",
      "css": "background: #f0f0f0;"
    },
    "UNPROT": {
      "description": "Unprotected field (editable)",
      "html": "<input type='text'>",
      "css": "background: white; border: 1px solid #ccc;"
    },
    "NUM": {
      "description": "Numeric-only input",
      "html": "<input type='text' pattern='[0-9]*'>",
      "validation": "Only digits 0-9 allowed"
    },
    "BRT": {
      "description": "Bright/highlight",
      "html": "class='highlight'",
      "css": "font-weight: bold; color: #fff;"
    },
    "DRK": {
      "description": "Dark/hidden",
      "html": "type='password' or visibility:hidden",
      "css": "color: transparent; background: transparent;"
    },
    "IC": {
      "description": "Initial cursor position",
      "html": "autoFocus attribute",
      "react": "useRef with focus()"
    },
    "FSET": {
      "description": "Field set (MDT on)",
      "html": "Mark field as modified",
      "note": "Used to track which fields were changed"
    }
  },
  "color_mapping": {
    "DEFAULT": {"hex": "#00FF00", "css": "color: lime;"},
    "BLUE": {"hex": "#0000FF", "css": "color: blue;"},
    "RED": {"hex": "#FF0000", "css": "color: red;"},
    "PINK": {"hex": "#FF00FF", "css": "color: magenta;"},
    "GREEN": {"hex": "#00FF00", "css": "color: lime;"},
    "TURQUOISE": {"hex": "#00FFFF", "css": "color: cyan;"},
    "YELLOW": {"hex": "#FFFF00", "css": "color: yellow;"},
    "NEUTRAL": {"hex": "#FFFFFF", "css": "color: white;"}
  },
  "modernization_patterns": {
    "state_management": {
      "cics": "COMMAREA passed between SEND/RECEIVE",
      "modern": "React useState/useReducer, Redux, or server session"
    },
    "navigation": {
      "cics": "XCTL to transfer control, LINK for subroutine",
      "modern": "React Router, Next.js routing, or REST API calls"
    },
    "validation": {
      "cics": "Validate in COBOL program after RECEIVE MAP",
      "modern": "Client-side validation + server-side validation"
    },
    "error_handling": {
      "cics": "Move error message to MESSAGE field, SEND MAP",
      "modern": "Toast notifications, inline error messages, modal dialogs"
    },
    "pagination": {
      "cics": "Store position in COMMAREA, PF7/PF8 for scroll",
      "modern": "Pagination component, infinite scroll, or virtual list"
    }
  }
}
