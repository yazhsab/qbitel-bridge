---
import DocsLayout from '@/layouts/DocsLayout.astro';
import { url } from '@/utils/url';
---

<DocsLayout title="UI Console | QBITEL Bridge Docs" description="Architecture of the React admin console: real-time dashboards, protocol marketplace, and enterprise features.">
  <h1 class="text-3xl font-bold text-white mb-2">UI Console</h1>
  <p class="text-gray-400 mb-8">The React-based admin console provides real-time dashboards, protocol marketplace, compliance reporting, and system management.</p>

  <h2 id="overview" class="text-2xl font-bold text-white mt-12 mb-4">Overview</h2>
  <p class="text-gray-300 mb-4">The UI Console is a single-page application built with React, TypeScript, and Vite. It connects to the AI Engine REST API and provides a visual interface for all QBITEL Bridge features.</p>

  <h2 id="tech-stack" class="text-2xl font-bold text-white mt-12 mb-4">Technology Stack</h2>
  <table class="w-full mb-6">
    <thead>
      <tr class="border-b border-surface-600">
        <th class="text-left text-white py-2 pr-4">Technology</th>
        <th class="text-left text-white py-2">Purpose</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-surface-600">
      <tr>
        <td class="text-gray-300 py-2 pr-4">React 18</td>
        <td class="text-gray-300 py-2">Component framework with concurrent features</td>
      </tr>
      <tr>
        <td class="text-gray-300 py-2 pr-4">TypeScript</td>
        <td class="text-gray-300 py-2">Type-safe development</td>
      </tr>
      <tr>
        <td class="text-gray-300 py-2 pr-4">Vite</td>
        <td class="text-gray-300 py-2">Build tool with HMR</td>
      </tr>
      <tr>
        <td class="text-gray-300 py-2 pr-4">Material UI</td>
        <td class="text-gray-300 py-2">Enterprise component library</td>
      </tr>
      <tr>
        <td class="text-gray-300 py-2 pr-4">OIDC Client</td>
        <td class="text-gray-300 py-2">SSO and enterprise authentication</td>
      </tr>
    </tbody>
  </table>

  <h2 id="project-structure" class="text-2xl font-bold text-white mt-12 mb-4">Project Structure</h2>
  <pre class="bg-surface-800 rounded-lg p-4 font-mono text-sm overflow-x-auto mb-6"><code class="text-gray-300">ui/console/
  src/
    App.tsx                  <span class="text-gray-500"># Main application component</span>
    api/                     <span class="text-gray-500"># API client layer</span>
      devices.ts             <span class="text-gray-500"># Device management API</span>
    auth/                    <span class="text-gray-500"># Authentication (OIDC)</span>
      oidc.ts                <span class="text-gray-500"># OIDC configuration</span>
    components/              <span class="text-gray-500"># React components</span>
      EnhancedDashboard.tsx  <span class="text-gray-500"># Main dashboard</span>
      ProductionDashboard.tsx <span class="text-gray-500"># Production monitoring</span>
      SystemSettings.tsx     <span class="text-gray-500"># System configuration</span>
      marketplace/           <span class="text-gray-500"># Protocol marketplace</span>
      responsive/            <span class="text-gray-500"># Responsive layout</span>
    config/                  <span class="text-gray-500"># Production configuration</span>
    theme/                   <span class="text-gray-500"># Enterprise theme</span>
    types/                   <span class="text-gray-500"># TypeScript type definitions</span>
  pages/
    index.tsx                <span class="text-gray-500"># Landing page</span>
  vite.config.ts             <span class="text-gray-500"># Vite build configuration</span></code></pre>

  <h2 id="key-features" class="text-2xl font-bold text-white mt-12 mb-4">Key Features</h2>

  <h3 id="dashboard" class="text-xl font-semibold text-white mt-8 mb-3">Real-Time Dashboard</h3>
  <p class="text-gray-300 mb-4">The production dashboard displays live metrics including:</p>
  <ul class="list-disc list-inside text-gray-300 space-y-2 mb-6">
    <li>Active protocol discoveries and classification rates</li>
    <li>Threat detection alerts and severity distribution</li>
    <li>System health: CPU, memory, network throughput</li>
    <li>AI agent activity and decision audit trail</li>
  </ul>

  <h3 id="marketplace" class="text-xl font-semibold text-white mt-8 mb-3">Protocol Marketplace</h3>
  <p class="text-gray-300 mb-4">The marketplace enables organizations to share and discover protocol definitions:</p>
  <ul class="list-disc list-inside text-gray-300 space-y-2 mb-6">
    <li><strong class="text-white">Browse & Search</strong> -- find protocols by name, industry, or use case</li>
    <li><strong class="text-white">Submit</strong> -- upload discovered protocols with metadata</li>
    <li><strong class="text-white">My Protocols</strong> -- manage your published protocol definitions</li>
    <li><strong class="text-white">Details View</strong> -- grammar rules, parsers, and validation results</li>
  </ul>

  <h3 id="authentication" class="text-xl font-semibold text-white mt-8 mb-3">Enterprise Authentication</h3>
  <p class="text-gray-300 mb-4">The console supports enterprise SSO via OIDC:</p>
  <ul class="list-disc list-inside text-gray-300 space-y-2 mb-6">
    <li>OpenID Connect (OIDC) with PKCE flow</li>
    <li>Role-based access control (RBAC)</li>
    <li>Session management with token refresh</li>
    <li>Support for Okta, Azure AD, and Keycloak</li>
  </ul>

  <h3 id="responsive" class="text-xl font-semibold text-white mt-8 mb-3">Responsive Design</h3>
  <p class="text-gray-300 mb-4">The console adapts to desktop, tablet, and mobile form factors with a responsive layout component that handles sidebar navigation, content panels, and data tables.</p>

  <h2 id="configuration" class="text-2xl font-bold text-white mt-12 mb-4">Configuration</h2>
  <p class="text-gray-300 mb-4">The console is configured through environment variables in <code class="bg-surface-700 px-1.5 py-0.5 rounded text-quantum-400 font-mono text-sm">.env</code>:</p>
  <pre class="bg-surface-800 rounded-lg p-4 font-mono text-sm overflow-x-auto mb-6"><code class="text-gray-300">VITE_API_BASE_URL=http://localhost:8000
VITE_OIDC_AUTHORITY=https://auth.example.com
VITE_OIDC_CLIENT_ID=qbitel-console
VITE_ENABLE_MARKETPLACE=true
VITE_ENABLE_MONITORING=true</code></pre>

  <h2 id="next-steps" class="text-2xl font-bold text-white mt-12 mb-4">Next Steps</h2>
  <ul class="list-disc list-inside text-gray-300 space-y-2">
    <li><a href={url('/docs/development/react')} class="text-quantum-400 hover:underline">React/TypeScript Development Guide</a> -- contribute to the UI Console</li>
    <li><a href={url('/docs/api/authentication')} class="text-quantum-400 hover:underline">Authentication</a> -- configure SSO and API keys</li>
    <li><a href={url('/docs/operations/monitoring')} class="text-quantum-400 hover:underline">Monitoring</a> -- set up Grafana dashboards</li>
  </ul>
</DocsLayout>
